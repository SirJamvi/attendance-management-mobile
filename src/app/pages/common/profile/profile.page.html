<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <div class="profile-container">
    
    <!-- Profile Card -->
    <ion-card class="profile-card">
      
      <!-- Header with Avatar -->
      <div class="profile-header">
        <ion-avatar class="profile-avatar">
          <ion-icon name="person"></ion-icon>
        </ion-avatar>
        <h1 class="profile-name">{{ user?.name || 'User' }}</h1>
        <ion-text [color]="getRoleColor()" class="profile-role">
          {{ getRoleName() }}
        </ion-text>
      </div>

      <!-- User Info -->
      <ion-card-content class="profile-content">
        
        <!-- Username -->
        <div class="info-row">
          <ion-icon name="person" color="primary"></ion-icon>
          <div class="info-text">
            <p class="info-label">USERNAME</p>
            <h3 class="info-value">{{ user?.username || '-' }}</h3>
          </div>
        </div>

        <!-- Email (if exists) - FIXED NULL CHECK -->
        <div class="info-row" *ngIf="user && user.email">
          <ion-icon name="mail" color="primary"></ion-icon>
          <div class="info-text">
            <p class="info-label">EMAIL</p>
            <h3 class="info-value">{{ user?.email || '-' }}</h3>
          </div>
        </div>

        <!-- Role -->
        <div class="info-row">
          <ion-icon name="briefcase" color="primary"></ion-icon>
          <div class="info-text">
            <p class="info-label">ROLE</p>
            <h3 class="info-value">{{ getRoleName() }}</h3>
          </div>
        </div>

      </ion-card-content>

    </ion-card>

    <!-- Logout Button -->
    <ion-button 
      expand="block" 
      color="danger" 
      size="large"
      class="logout-btn"
      (click)="confirmLogout()">
      <ion-icon name="log-out" slot="start"></ion-icon>
      Logout
    </ion-button>

  </div>

</ion-content>